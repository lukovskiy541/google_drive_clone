# Етап 4. Порівняльний аналіз

Документ узагальнює результати етапів 2 (десктопний клієнт) і 3 (веб-версія). Описано спільні елементи, ключові відмінності, а також наведено аргументи щодо вибору оптимальної технології.

## Спільні елементи
- Єдиний контракт API (ендпоінти авторизації, файлів і синхронізації) задає ті самі формати даних, тому сортування й фільтри працюють однаково в обох клієнтах.
- Модель доступу до файлів спільна: ті самі ролі користувача, той самий набір атрибутів (назва, тип, дати, хто завантажив/редагував) і однакові правила відображення.
- Інтерфейс побудований на спільних компонентах: таблиця файлів, панель перегляду та панель інструментів виглядають і поводяться однаково, що дає звичний UX незалежно від платформи.
- Оновлення списку файлів відбуваються через той самий потік подій сервера, тож користувач не чекає ручного перезавантаження в жодному з варіантів.
- Модульні тести перевіряють спільну логіку сортування й фільтрації, гарантують стабільність і не дають платформам розійтися в поведінці.

## Порівняльна таблиця

| Критерій | Десктопний клієнт (Electron) | Веб-клієнт (Next.js SPA) |
| --- | --- | --- |
| Синхронізація папок | Постійно тримає дзеркало між локальною директорією та віддаленим сховищем, реагує на кожну зміну файлової системи. | Працює з файлами разово через завантаження/вивантаження, автоматичного дзеркала немає. |
| Робота при нестабільній мережі | Зберігає зміни локально і дотягує їх до сервера після відновлення з’єднання, тому користувач не втрачає внесені правки. | Без підключення не синхронізує дії; зміни виконуються тільки коли запит успішно дійшов до сервера. |
| Відгук на масові зміни | Вотчери файлової системи миттєво сповіщають про оновлення десятків файлів, інтерфейс показує актуальний стан без релоаду. | Потік SSE працює, поки вкладка активна; у фоні браузер може накопичувати події й видавати їх із затримкою. |
| Підтримка великих файлів та прев’ю | Може відкрити великі документи та зображення без відправлення їх назад у браузер, оскільки читає файли прямо з диска. | Попередній перегляд опирається на відповіді сервера; великі файли довше завантажуються й можуть впливати на пропускну здатність. |
| Інтеграція з ОС | Доступні системні діалоги вибору папки, нотифікації, робота з буфером обміну — це спрощує керування локальними матеріалами. | Обмежується можливостями браузера: немає системних повідомлень і прямого доступу до каталогів. |
| Безпекові ризики | Потрібно контролювати права доступу до файлової системи та оновлення програми, щоб уникнути витоків даних на робочих станціях. | Основні загрози — веб-рівня (сесії, XSS); доступ до локальних файлів відсутній, тож ризик витоку з диска мінімальний. |
| Типові користувачі | Команди, які постійно синхронізують робочі каталоги та потребують офлайн-режиму. | Користувачі, яким важливий швидкий вхід з довільного пристрою й немає потреби тримати локальну копію. |

## Ключові відмінності та спостереження

1. **Користувацький сценарій.** Десктопний варіант схожий на звичну програму: є власне вікно, підтримка drag-and-drop, вибір папки синхронізації. Веб-версія відкривається у браузері, що спрощує вхід для нових користувачів.
2. **Підтримка і оновлення.** Electron-пакет постачається з вбудованим середовищем, отже адміністратору треба поширювати нові збірки. Веб-версія оновлюється централізовано на сервері.
3. **Синхронізація локальних файлів.** Десктоп може напряму відстежувати зміни в обраній папці і переносити їх на сервер. Веб-інтерфейс обмежується ручними операціями завантаження та скачування.
4. **Безпекові вимоги.** У настільному варіанті важливо контролювати доступ до системних ресурсів і підписувати інсталятори. Веб-застосунок захищений механізмами браузера, тому головна увага — на зберігання сесій та захист від XSS.
5. **Тестування.** Загальні модульні тести однакові, але для наскрізних перевірок потрібні різні інструменти: Electron-орієнтовані рішення для десктопа та браузерні фреймворки для вебу.

## Обґрунтування вибору

Для сценаріїв, де важливий швидкий доступ без інсталяції та можливість працювати з будь-якого пристрою, оптимально обрати веб-версію (етап 3). Вона простіше масштабуються і потребує мінімум зусиль при розгортанні.

Якщо команді потрібна глибша інтеграція з локальною файловою системою, синхронізація папок та робота без постійного підключення до сервера, варто використовувати десктопний клієнт (етап 2).

У багатьох випадках доцільно підтримувати обидва варіанти: веб-версію як універсальний інтерфейс для широкого кола користувачів і десктопну програму для тих, хто інтенсивно працює з локальними файлами та потребує розширеної синхронізації.
